## Chapter 8. 계층형 설계 I
- 소프트웨어 설계 : 코드를 만들고, 테스트하고, 유지보수하기 쉬운 프로그래밍 방법을 선택하기 위해 미적 감각을 사용하는 것.

### 설계 감각 키우기
- 입력
  - 함수 본문
    - 길이
    - 복잡성
    - 구체화 단계
    - 함수 호출
    - 프로그래밍 언어의 기능 사용
  - 계층 구조
    - 화살표 길이
    - 응집도
    - 구체화 단계
  - 함수 시그니처
    - 함수명
    - 인자 이름
    - 인잣값
    - 리턴값
- 출력
  - 조직화
    - 새로운 함수를 어디에 놓을지 결정
    - 함수를 다른곳으로 이동
  - 구현
    - 구현 바꾸기
    - 함수 추출하기
    - 데이터 구조 바꾸기
  - 변경
    - 새 코드를 작성할 곳 선택하기
    - 적절한 수준의 구체화 단계 결정하기

### 계층형 설계 패턴
- 패턴 1. 직접 구현
- 패턴 2. 추상화 벽
- 패턴 3. 작은 인터페이스
- 패턴 4. 편리한 계층

### 패턴 1. 직접 구현
1. 설계 스프린트
2. 개선할 부분을 찾기
3. 호출 그래프 만들어 함수 호출 시각화하기
- 직접 구현 패턴을 사용하면 비슷한 추상화 계층에 있는 함수를 호출.
- 계층형 설계는 각자의 관점으로 사람들이 사용하면서 습득한 것.
- 같은 계층에 있는 함수는 같은 목적을 가져야 함.

#### 3단계 줌 레벨
- 계층형 설계에서 문제는 계층 사이에 상호관계, 특정 계층의 구현, 특정 함수의 구현에서 찾을 수 있다.
1. 전역 줌 레벨
2. 계층 줌 레벨
3. 함수 줌 레벨
- 계층 줌 레벨로 보면 함수가 가리키는 화살표를 계층 간에 비교할 수 있음.
- 직접 구현 패턴을 사용하면 모든 화살표가 같은 길이를 가져야 함.

#### 직접 구현 패턴 리뷰
1. 직접 구현한 코드는 한 단계의 구체화 수준에 관한 문제만 해결함.
2. 계층형 설계는 특정 구체화 단계에 집중할 수 있게 도와줌.
3. 호출 그래프는 구체화 단계에 대한 풍부한 단서를 보여줌
4. 함수를 추출하면 더 일반적인 함수로 만들 수 있음.
5. 일반적인 함수가 많을수록 재사용하기 좋음.
6. 복잡성을 감추지 않음.

## Chapter 9. 계층형 설계 II

### 패턴 2. 추상화 벽
- 세부 구현을 감춘 함수로 이루어진 계층.
- 데이터 구조를 몰라도 함수를 사용할 수 있다는 것을 의미함.
- 라이브러리나 API와 비슷함. API를 주는 쪽과 받는 쪽은 서로가 어떤 영향을 주고 받는지 알지 못함.
- '어떤 것을 신경쓰지 않아도 되지?'라는 말을 거창하게 표현하는 개념.

#### 추상화 벽은 언제 사용하면 좋을까요?
1. 쉽게 구현을 바꾸기 위해
2. 코드를 읽고 쓰기 쉽게 만들기 위해
3. 팀 간에 조율해야할 것을 줄이기 위해
4. 주어진 문제에 집중하기 위해

#### 패턴 2 리뷰 : 추상화 벽
- 추상화 단계의 상위에 있는 코드와 하위에 있는 코드는 서로 의존하지 않게 정의한다. 
- 추상화 단계의 모든 함수는 비슷한 세부 사항을 무시할 수 있도록 정의한다.
- 추상화 벽으로 추상화를 강력하고 명시적으로 만들 수 있다.

### 패턴 3. 작은 인터페이스
- 새로운 코드를 추가할 위치에 관한 것.

### 패턴 4. 편리한 계층
- 조금 더 현실적이고 실용적인 측면을 다루고 있음.
- 계층형 설계 패턴과 실천 방법은 개발자의 요구를 만족시키면서 비지니스 문제를 잘 풀 수 있어야 함.