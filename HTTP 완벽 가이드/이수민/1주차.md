# Chapter 01

- URI(Uniform resource identifier)

  - 정보 리소스를 공유하게 식별하고 위치를 지정
  - → 서버에 있는 리소스

  1. URL(Uniform resource locator) ⇒ 오늘날 대부분의 URI
     1. 특정 서버의 한 리소스에 대한 구체적인 위치
     2. 표준 포맷
        1. 스킴(scheme) - 리소스 접근에 사용되는 프로토콜(http, https) 정보
        2. 서버의 인터넷 주소
        3. 웹 서버의 리소스
  2. URN(Uniform resource name)

     1. 콘텐츠를 이루는 한 리소스에 대해, 그 리소스의 위치에 영향 받지 않는 유일무이한 이름

        → 위치 독립적. 리소스를 이동하더라도, 이름이 변경되지 않는 한 접근해도 문제없음

     2. 효율적인 동작을 위해 리소스 위치 분석을 위한 인프라 지원 필요 → 채택이 늦어지지만, 전만이 밝음

## 1.4 트랜잭션

- HTTP 트랜잭션 - 요청 명령(클라 → 서버)과 응답 결과(서버 → 클라)로 구성

### 1.4.1 메서드

- HTTP 메서드(요청 명령) : 서버에게 어떤 동작이 취해져야 하는지 알려줌
  → 모든 HTTP 요청 메시지는 한 개의 매서드를 가짐
  | HTTP 매서드 | 설명 |
  | ----------- | ------------------------------------------------------------------- |
  | GET | 서버에서 클라이언트로 지정한 리소스를 보내라 |
  | PUT | 클라이언트에서 서버로 보낸 데이터를 지정한 이름의 리소스로 저장하라 |
  | DELETE | 지정한 리소스를 서버에서 삭제하라 |
  | POST | 클라이언트 데이터를 서버 게이트웨이 애플리케이션으로 보내라 |
  | HEAD | 지정한 리소스에 대한 응답에서, HTTP 헤더 부분만 보내라 |

### 1.4.2 상태 코드

모든 HTTP 응답 메시지는 상태 코드와 함께 반환

상태 코드 - 클라이언트에게 요청이 성공했는지, 아니면 추가 조치가 필요한지 알려주는 세 자리 숫자

### 1.4.3 웹페이지는 여러 객체로 이루어질 수 있다

애플리케이션 - 보통 하나의 작업을 수행하기 위해 여러 HTTP 트랜잭션을 수행

## 1.5 메시지

HTTP 메시지 - 단순 줄 단위 문자열 (일반 텍스트)

- 웹 클라이언트 → 웹 서버로 보낸 HTTP 메시지 = 요청 메시지
- 서버 → 클라이언트로 가는 메시지 = 응답 메시지
- 구성
  - 시작줄 : 메시지의 첫 줄, 요청 → 무엇을 해야하는지, 응답 → 무슨 일이 일어났는지
  - 헤더 : 0개 이상의 헤더 필드. 쌍점(:)으로 구분된 하나의 이름과 값으로 구성. 빈 줄로 끝남
  - 본문 : 텍스트 + 임의의 이진 데이터 포함 가능(이미지, 비디오 등)
    - 요청 본문 - 웹 서버로 데이터를 실어 보냄
    - 응답 본문 - 클라이언트로 데이터 반환
      - Content-Length 헤더 - 응답 본무 길이
      - Content-Type 헤더 - 문서의 MIME 타입

## 1.6 TCP 커넥션

- 웹 브라우저가 HTTP를 이용해 서버의 단순 HTML 리소스를 사용자에게 보여주는 순서
  1. 웹브라우저는 서버의 URL에서 호스트명 추출
  2. 웹브라우저는 서버의 호스트 명을 IP로 변환
  3. 웹브라우저는 URL에서 포트번호(있다면)를 추출
  4. 웹브라우저는 웹 서버와 TCP 커넥션을 맺음
  5. 웹브라우저는 서버에 HTTP 요청을 보냄
  6. 서버는 웹브라우저에 HTTP 응답을 돌려줌
  7. 커넥션이 닫히면, 웹브라우저는 문서를 보여줌

## 1.7 프로토콜 버전

- HTTP/1.0 - 널리 쓰이기 시작한 HTTP 버전
  - 버전 번호, HTTP 헤더, 추가 메서드, 멀티미디어 객체 처리 추가
- HTTP/1.0+
  - keep-alive 커넥션, 가상 호스팅 지원, 프락시 연결 지원 등
  - 이 규격 외의 확장된 HTTP 버전을 흔히 HTTP/1.0+라고 부름
- HTTP/1.1
  - HTTP 설계의 구조적 결함 교정, 두드러진 성능 최적화, 잘못된 기능 제거
  - 현재 HTTP 버전
- HTTP/2.0
  - 성능 문제 개선을 위해 구글의 SPDY 프로토콜을 기반으로 설계 진행중

### 1.8 웹의 구성요소

- 프락시
  - 클라이언트와 서버 사이에 위치한 HTTP 중개자
  - 웹 보안, 애플리케이션 통합, 성능 최적화를 위한 중요한 구성 요소 = HTTP 프락시 서버
  - 클라 - 서버 사이에 위치, 사용자 대신 서버 접근
  - 주로 보안을 위해 사용 → 모든 웹 트래픽 흐름 속에서 신뢰할 만한 중개자 역할
  - 요청과 응답을 필터링
- 캐시
  - 많이 찾는 웹페이지를 클라이언트 가까이에 보관하는 HTTP 창고
  - 자주 찾는 것의 사본을 저장해 두는, 특별한 종류의 HTTP 프락시 서버
    → 멀리 떨어진 웹 서버보다 근처의 캐시에서 훨씬 더 빨리 문서를 다운 받을 수 있음
  - HTTP는, 캐시를 효율적으로 동작하게 하고 캐시된 콘텐츠를 최신 버전으로 유지하면서 동시에 프라이버시도 보호하기 위한 많은 기능을 정의
- 게이트웨이
  - 다른 애플리케이션과 연결된 특별한 웹 서버
    - 다른 서버들의 중개자로 동작하는 특별한 서버 → 주로 HTTP 트래픽을 다른 프로토콜로 변환하기 위해 사용
    - 언자나 스스로가 리소스를 갖고 있는 진짜 서버인 것처럼 요청을 다룸
      → 클라이언트는 자신이 게이트웨이와 통신하고 있음을 알아채지 못 함
- 터널
  - 단순히 HTTP 통신을 전달하기만 하는 특별한 프락시
  - 두 커넥션 사이에서 날(raw) 데이터를 열어보지 않고 그대로 전달해주는 HTTP 애플리케이션
  - 비 HTTP 데이터를 하나 이상의 HTTP 연결을 통해 그대로 전송해주기 위해 사용
  - 예)
    - 암호화된 SSL 트래픽을 HTTP 커넥션으로 전송함으로써 웹 트래픽만 허용하는 사내 방화벽을 통과시킴
- 에이전트
  - 자동화된 HTTP 요청을 만드는 준지능적(semi-intelligent) 웹 클라이언트
  - 사용자를 위해 HTTP 요청을 만들어주는 클라이언트 프로그램 → 웹 요청을 만드는 애플리케이션은 뭐든 HTTP 에이전트임

# Chapter 02 URL과 리소스

## 2.1 인터넷의 리소스 탐색하기

- URL ⇒ `스킴://서버위치/경로` ⇒ 애플리케이션이 리소스에 접근할 수 있는 방법 제공
  - URL의 첫 부분 - URL의 스킴(http) ⇒ 어떻게
    - 웹 클라이언트가 리소스에 어떻게 접근하는지 알려줌 (프로토콜)
  - 두번 째 부분 - 서버의 위치 ⇒ 어디에
    - 웹 클라이언트의 리소스가 어디에 호스팅 되어 있는지 알려줌
  - 세번 째 부분 - 리소스의 경로 ⇒ 무엇을
    - 경로 - 서버에 존재하는 로컬 리소스들 중에서 요청받은 리소스가 무엇인지 알려줌

## 2.2 URL 문법

URL로 인터넷상 모든 리소스를 찾을 수 있지만, 그 리소스들은 다른 스킴을 통해 접근할 수 있으면, URL 문법은 스킴에 따라 달라짐 → 서로 다른 URL 스킴도 형태와 문법 면에서 매우 유사

`<스킴>://<사용자이름>:<비밀번호>@<호스트>:<포트>/<경로>;<파라미터>?<질의>#<프래그먼트>`

## 2.3 단축 URL

- 상대 URL을 절대 URL로 변환하기
  1. 경로는 ./hammers.html. 기저 URL은 http://www.joes-hardware.com/tools.
     html.
  2. 스킴은 비어 있다. 도표의 왼쪽으로 따라 내려가면, 알고리즘에 따라 기저 URL 의 스킴을 상속받는다(HTTP).
  3. 적어도 한 개의 컴포넌트는 비어 있지 않다. 아래로 내려가서 호스트와 포트 컴포넌트를 상속받는다.
  4. 상대 URL(경로: ./hammers.html) 컴포넌트와 상속받은 컴포넌트를(스킴:http, 호스트:www.joes-hardware.com, 포트: 80) 합치면, 새로운 절대 URL인 http:// [www.joes-hardware.com/hammers.html을](http://www.joes-hardware.com/hammers.html%EC%9D%84) 얻을 수 있다.

### 2.3.2 URL 확장

- 호스트 명 확장 - naver만 쳐도 www.을 붙여줌
- 히스토리 확장 - 일부만 입력해도 이전 히스토리 기록이 있으면 선택 가능함
